{
	"name": "Level_ES",
	"events": [
		{
			"eventType": "variable",
			"name": "Level",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 363290896692426
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Control",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 223167521689111,
							"parameters": {
								"key": 87
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Player",
							"sid": 521704977743176,
							"behaviorType": "TileMovement",
							"parameters": {
								"control": "up"
							}
						}
					],
					"sid": 956794042910558
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 844811939054137,
							"parameters": {
								"key": 65
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Player",
							"sid": 638383886110321,
							"behaviorType": "TileMovement",
							"parameters": {
								"control": "left"
							}
						}
					],
					"sid": 117526204150184
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 382971217266246,
							"parameters": {
								"key": 83
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Player",
							"sid": 561182761593728,
							"behaviorType": "TileMovement",
							"parameters": {
								"control": "down"
							}
						}
					],
					"sid": 755603548655519
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 702876896151128,
							"parameters": {
								"key": 68
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Player",
							"sid": 637340215863348,
							"behaviorType": "TileMovement",
							"parameters": {
								"control": "right"
							}
						}
					],
					"sid": 389689968490907
				}
			],
			"sid": 560219984425904
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Animation",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-moving-direction",
							"objectClass": "Player",
							"sid": 233274293566386,
							"behaviorType": "TileMovement",
							"parameters": {
								"direction": "up"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "Player",
							"sid": 972391373556740,
							"parameters": {
								"animation": "\"up\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Player",
							"sid": 282911000630464,
							"parameters": {
								"animation": "\"up\"",
								"from": "beginning"
							}
						}
					],
					"sid": 542330335758553
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-moving-direction",
							"objectClass": "Player",
							"sid": 600220092882429,
							"behaviorType": "TileMovement",
							"parameters": {
								"direction": "left"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "Player",
							"sid": 355458501513775,
							"parameters": {
								"animation": "\"left\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Player",
							"sid": 804352244064773,
							"parameters": {
								"animation": "\"left\"",
								"from": "beginning"
							}
						}
					],
					"sid": 989499103524625
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-moving-direction",
							"objectClass": "Player",
							"sid": 426918602794134,
							"behaviorType": "TileMovement",
							"parameters": {
								"direction": "down"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "Player",
							"sid": 137027054045710,
							"parameters": {
								"animation": "\"down\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Player",
							"sid": 138551574581371,
							"parameters": {
								"animation": "\"down\"",
								"from": "beginning"
							}
						}
					],
					"sid": 486130086045692
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-moving-direction",
							"objectClass": "Player",
							"sid": 386564629290091,
							"behaviorType": "TileMovement",
							"parameters": {
								"direction": "right"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "Player",
							"sid": 915728820586557,
							"parameters": {
								"animation": "\"right\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Player",
							"sid": 512837176660645,
							"parameters": {
								"animation": "\"right\"",
								"from": "beginning"
							}
						}
					],
					"sid": 684405391191111
				}
			],
			"sid": 987422654244722
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Player",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-moving-direction",
							"objectClass": "Player",
							"sid": 406007941803373,
							"behaviorType": "TileMovement",
							"parameters": {
								"direction": "up"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 980416415516549,
							"parameters": {
								"instance-variable": "dir",
								"value": "0"
							}
						}
					],
					"sid": 190194401432196
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-moving-direction",
							"objectClass": "Player",
							"sid": 755374267870306,
							"behaviorType": "TileMovement",
							"parameters": {
								"direction": "left"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 304009658687019,
							"parameters": {
								"instance-variable": "dir",
								"value": "1"
							}
						}
					],
					"sid": 588009195615664
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-moving-direction",
							"objectClass": "Player",
							"sid": 821954490029122,
							"behaviorType": "TileMovement",
							"parameters": {
								"direction": "down"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 324689328286139,
							"parameters": {
								"instance-variable": "dir",
								"value": "2"
							}
						}
					],
					"sid": 236243225626585
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-moving-direction",
							"objectClass": "Player",
							"sid": 723247402423097,
							"behaviorType": "TileMovement",
							"parameters": {
								"direction": "right"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 177793573103274,
							"parameters": {
								"instance-variable": "dir",
								"value": "3"
							}
						}
					],
					"sid": 342676518257416
				}
			],
			"sid": 731431442821985
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Light",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 784012402975232
						}
					],
					"actions": [
						{
							"id": "set-position-to-another-object",
							"objectClass": "Lantern",
							"sid": 314481009298850,
							"parameters": {
								"object": "Player",
								"image-point-optional": "0"
							}
						},
						{
							"id": "set-position-to-another-object",
							"objectClass": "cam",
							"sid": 891508076177713,
							"parameters": {
								"object": "Player",
								"image-point-optional": "0"
							}
						},
						{
							"id": "set-position-to-another-object",
							"objectClass": "ShadowLight",
							"sid": 525667879179279,
							"parameters": {
								"object": "Player",
								"image-point-optional": "0"
							}
						}
					],
					"sid": 368993206000995
				}
			],
			"sid": 183106290452206
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "Player",
					"sid": 438798315626805,
					"parameters": {
						"object": "Goal"
					}
				},
				{
					"id": "is-moving",
					"objectClass": "Player",
					"sid": 215476328129380,
					"behaviorType": "TileMovement",
					"isInverted": true
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "Goal",
					"sid": 598116884821688,
					"parameters": {
						"instance-variable": "isActive"
					}
				}
			],
			"actions": [
				{
					"id": "add-to-eventvar",
					"objectClass": "System",
					"sid": 564137932616080,
					"parameters": {
						"variable": "Level",
						"value": "1"
					}
				},
				{
					"id": "go-to-layout-by-name",
					"objectClass": "System",
					"sid": 707380838488318,
					"parameters": {
						"layout": "str(Level)"
					}
				}
			],
			"sid": 540894650978701
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "Player",
					"sid": 720008324981738,
					"parameters": {
						"object": "Teleporter"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "Player",
					"sid": 499354483351382,
					"parameters": {
						"instance-variable": "teleported"
					},
					"isInverted": true
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "Player",
					"sid": 561171965074078,
					"parameters": {
						"instance-variable": "dir",
						"comparison": 0,
						"value": "Teleporter.CollisionDir"
					}
				},
				{
					"id": "is-moving",
					"objectClass": "Player",
					"sid": 441030549208498,
					"behaviorType": "TileMovement",
					"isInverted": true
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "Teleporter",
					"sid": 766596045492170,
					"parameters": {
						"instance-variable": "isActive"
					}
				}
			],
			"actions": [
				{
					"callFunction": "MovePlayerTo",
					"sid": 161428029515931,
					"parameters": [
						"Teleporter.TargetRoute",
						"Teleporter.TargetNode"
					]
				},
				{
					"id": "set-boolean-instvar",
					"objectClass": "Player",
					"sid": 625462386350329,
					"parameters": {
						"instance-variable": "teleported",
						"value": "true"
					}
				}
			],
			"sid": 850357247372589
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "Player",
					"sid": 120310423648115,
					"parameters": {
						"object": "Teleporter"
					},
					"isInverted": true
				}
			],
			"actions": [
				{
					"id": "set-boolean-instvar",
					"objectClass": "Player",
					"sid": 350716583895320,
					"parameters": {
						"instance-variable": "teleported",
						"value": "false"
					}
				}
			],
			"sid": 794889556500066
		},
		{
			"functionName": "MovePlayerTo",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "TargetRoute",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 891669288344333
				},
				{
					"name": "TargetNode",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 621069578242684
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 167606784899205,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 275020731053303,
							"parameters": {
								"object": "Teleporter",
								"expression": "Teleporter.Route",
								"comparison": 0,
								"value": "TargetRoute"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 693806042098965,
							"parameters": {
								"object": "Teleporter",
								"expression": "Teleporter.Node",
								"comparison": 0,
								"value": "TargetNode"
							}
						}
					],
					"actions": [
						{
							"id": "set-grid-position",
							"objectClass": "Player",
							"sid": 107295801322082,
							"behaviorType": "TileMovement",
							"parameters": {
								"x": "(Teleporter.X - 32) / 64",
								"y": "(Teleporter.Y - 32) / 64",
								"instant": "instant"
							}
						}
					],
					"sid": 519002297172200
				}
			]
		}
	],
	"sid": 626257349159799
}